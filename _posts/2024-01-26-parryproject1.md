---
title:  "[ParryProject] 무엇을 했는가 & 무엇을 할 것인가"
date:   2024-01-26
categories: [ParryProject]
tag: [unity, game, study]
---

## **지금까지 무엇을 했는가**
---

체감상 1년 가까이 유기하다가 작년 말부터 다시 야금야금 건들기 시작했다.
중간 공백이 너무 길었기에 스스로 재단련 좀 할 겸 처음부터 다시 시작했다.

### **스프라이트 시트**
![스프라이트시트](/assets/img/20240126/sheets.png)


그림을 안 그린지 한참 되기는 했지만 그 욕구를 버린 건 아닌지 도트로 표출하기 시작했다.
일단 프로토타입 느낌으로 간단하게 작업했다.
플레이어, 임시 보스, 오브젝트, 이펙트 4종류를 제작.

시간낭비였을수도 있지만, 개인적으로 만족해서 후회는 없다.

### **플레이어 액션**
![플레이어 액션](/assets/img/20240126/player.gif)


플레이어의 다음 액션들을 구현했다.
- 이동, 점프
- 대시
- 패링 (일반공격)
- 임시 스킬 - 투창
- 피격
- 사망

![적 액션](/assets/img/20240126/enemy.gif)


적 개체의 경우는 임시 터렛따리로 만들었기에 생략.
지금은 총알만 뿅뿅 쏘다가 죽으면 사라진다.

## **무슨 문제가 있었나**

직전에 수료한 부트캠프를 통해서 오류를 기록하는 것도 중요하다는 것을 접했다.
좀 늦긴 했지만 그 이후 접한 문제라도 기록해본다.

### **플레이어가 피격 상태 이후 움직이지 못함**

![오류1](/assets/img/20240126/error1.gif)


다른 경우는 괜찮았으나, 대시 도중과 점프 직후 피격 시 피격 모션이 해제되면 움직이지 못하는 문제가 발생.
플레이어 움직임에 관여하는 변수를 전부 확인하는 단순무식한 수고를 들인 뒤에야, 해당 상황에서 피격 상태인지 판단하는 `isDamaged` 변수가 제대로 풀리지 않았음을 확인.

![오류2](/assets/img/20240126/error2.png)


해당 변수는 피격 애니메이션의 끝에서 호출되는 이벤트 함수에서 풀리게 되는데, 도중에 Any State에서 출발하는 낙하 애니메이션으로 자동 전이가 일어나 함수가 호출될 수 없었던 것.
해당 전이 조건에는 피격 관련 파라미터가 없는 상태였다.

임기응변으로 파라미터를 추가한 뒤 정상 작동하는 것을 확인.<br>
추후 애니메이션에 대해서 공부하고, 개편할 필요가 있겠다.

## **이제 무엇을 할 것인가**

클래스, 인터페이스 응용해보기.<br>
이왕 배운거 써 먹어 보겠다는 심산.<br>
일단 간단하게 Character, Bullet 클래스 정도만 구상했다.<br>
이 과정에서 코드들도 좀 정돈해 보자.

플레이어 sp 시스템 구현.<br>
일반공격 / 적 공격 패링을 통해 sp를 수급하고, 축적한 sp를 소모해 스킬을 사용하는 시스템의 기반.

간이 보스를 구현. 적 개체 만드는 연습 삼아서.<br>
솔직히 말하면 다양한 보스 만들어보고 싶어서 이 계획을 시작했다. 물론 그만큼 신경쓸 건 많겠지만.

UI 구현. 역시 아직은 간단하게 기본 오브젝트들 이용해서.

메인메뉴 구현. 좀 먼 일이긴 하지만, 스테이지 입장 정도라도 구현해보고 싶다.

그 외의 잡다한 사항들을 다음과 같다:
- 공격, 대시 쿨타임 계산은 함수로 따로 구현하기
- 투사체 피격 방식 변경: 투사체에서 피격 개체 함수 호출하기
- 코루틴 변수화

떠오르는 대로 추가로 메모해두자.

## **여담**

2주간의 부트캠프가 끝난 후 한 주가 지났다. 충분한 자극도 받았으니 이제 정말 실행 좀 할 때다.<br>
오랜만에 블로그 다시 단장하면서 다시 각오를 다져보자.

위에 작성한 앞으로 할 것들을 다 구현해 본 후에, 본격적으로 정비할 생각이다.<br>
플레이어와 적 디자인, 스킬 구상, 간단한 스토리 등...<br>
너무 욕심부려서 스스로 진 빼지만 말자. 지금 할 수 있는 적절한 볼륨만 구현하는거야.

머릿속으로 온갖 게임들이 뒤섞이면서 뭘 만들고 싶은 건지 슬슬 헷갈린다.<br>
세키로, 할로우나이트같은 정제된 전투를 원하는건지,<br>
테라리아, 아머드코어, 퍼니싱같이 난전을 연상케 하는 화려함을 원하는건지.<br>
코드 정돈하면서 다시 생각할 필요가 있을 것 같다.

대충 세계관과 진행 방식은 구상했으니 언제 한 번 정리해두자.<br>
사심덩어리라 어디 써 놓기 부끄럽긴 한데.

위 세계관 이야기의 연장선이긴 한데, 머릿속으로 사심 듬뿍 끼얹은 온갖 세계관들만 구상하고 있다. 심지어는 이걸 또 어디 적어서 표현하고 싶다.<br>
애초에 이야기 만드는 걸 좋아하는 것 같다. 맥락 당위성 합리성 다 말아먹은 서사인 것 같긴 하지만.<br>
진짜 평소에 소설 좀 열심히 읽어볼 걸 그랬다. 이게 다 독서록을 과제로 내서 책 읽기를 싫어하게 만든 교육과정의 탓이다. 아무튼 그렇다.
안 그래도 글 읽는 속도 느린데 타임어택 과제를 주면 몰입할 수가 없잖아.
